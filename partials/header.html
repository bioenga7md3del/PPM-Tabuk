<!-- partials/header.html -->
<header class="px-3 md:px-6 mt-3">
  <div class="topbar px-3 md:px-4 py-2 flex items-center justify-between rounded-xl">

    <!-- ✅ اليسار: الروابط + القوائم -->
    <nav id="mainNav" class="flex items-center gap-2 md:gap-3 text-white text-[15px] md:text-[16px] font-medium">
      <!-- Dashboard -->
      <a href="/PPM-Tabuk/modules/dashboard/index.html" data-to="dashboard"
         class="inline-flex items-center gap-2 px-2 py-1 rounded-md hover:bg-white/15">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/>
          <rect x="14" y="14" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/>
        </svg>
        <span>Dashboard</span>
      </a>

      <!-- Assets -->
      <a href="/PPM-Tabuk/modules/assets/index.html" data-to="assets"
         class="inline-flex items-center gap-2 px-2 py-1 rounded-md hover:bg-white/15">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M3 7l9-4 9 4-9 4-9-4z"/><path d="M21 7v8l-9 4-9-4V7"/>
        </svg>
        <span>Assets</span>
      </a>

      <!-- Preventive -->
      <a href="/PPM-Tabuk/modules/preventive/index.html" data-to="preventive"
         class="inline-flex items-center gap-2 px-2 py-1 rounded-md hover:bg-white/15">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 2l7 4v5c0 5-3 9-7 11-4-2-7-6-7-11V6l7-4z"/><path d="M9 12l2 2 4-4"/>
        </svg>
        <span>Preventive</span>
      </a>

      <!-- Corrective (click dropdown) -->
      <div class="dd relative" data-dd="corrective">
        <button type="button" class="dd-btn inline-flex items-center gap-2 px-2 py-1 rounded-md">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M14.7 6.3a4 4 0 1 0-5.4 5.4L3 18v3h3l6.3-6.3a4 4 0 0 0 5.4-5.4z"/>
          </svg>
          <span>Corrective</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </button>
        <div class="dd-panel card" role="menu" aria-hidden="true">
          <a class="dd-item" href="/PPM-Tabuk/modules/corrective/index.html?tab=ticket" data-to="corrective">
            <span>📝</span><span>Ticket</span>
          </a>
          <a class="dd-item" href="/PPM-Tabuk/modules/spares/index.html" data-to="spares">
            <span>⚙️</span><span>SparePart</span>
          </a>
          <a class="dd-item" href="/PPM-Tabuk/modules/corrective/index.html?tab=wo" data-to="corrective">
            <span>📄</span><span>WorkOrder</span>
          </a>
        </div>
      </div>

      <!-- Sites (hover dropdown; click navigates) -->
      <div class="dd relative" data-dd="sites">
        <a href="/PPM-Tabuk/modules/sites/index.html" class="inline-flex items-center gap-2 px-2 py-1 rounded-md hover:bg-white/15" data-to="sites">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M12 21s-6-5.3-6-10a6 6 0 1 1 12 0c0 4.7-6 10-6 10z"/><circle cx="12" cy="11" r="3"/>
          </svg>
          <span>Sites</span>
          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
            <path d="M6 9l6 6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </a>
        <div class="dd-panel card" role="menu" aria-hidden="true">
          <a class="dd-item" href="/PPM-Tabuk/modules/sites/departments.html" data-to="sites">
            <span>🏷️</span><span>Department</span>
          </a>
          <a class="dd-item" href="/PPM-Tabuk/modules/sites/buildings.html" data-to="sites">
            <span>🏢</span><span>Building</span>
          </a>
          <a class="dd-item" href="/PPM-Tabuk/modules/sites/rooms.html" data-to="sites">
            <span>🏠</span><span>Rooms</span>
          </a>
        </div>
      </div>

      <!-- Users -->
      <a href="/PPM-Tabuk/modules/users/index.html" data-to="users"
         class="inline-flex items-center gap-2 px-2 py-1 rounded-md hover:bg-white/15">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none"
             stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M17 21v-2a4 4 0 0 0-4-4H7a4 4 0 0 0-4 4v2"/>
          <circle cx="9" cy="7" r="4"/>
          <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
          <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
        </svg>
        <span>Users</span>
      </a>
    </nav>

    <!-- ✅ اليمين: الاسم + الثيم + Logout -->
    <div class="flex items-center gap-2 md:gap-3 flex-row-reverse">
      <button id="btnLogout" class="px-3 py-1 rounded-lg bg-red-600 hover:bg-red-700 text-white">Logout</button>
      <button id="themeBtn" onclick="toggleTheme()" title="Toggle Theme"
        class="w-9 h-9 flex items-center justify-center rounded-lg bg-white/20 hover:bg-white/30 text-white shadow transition">🌓</button>
      <a id="userName" class="font-semibold text-white hover:underline cursor-pointer"
         href="/PPM-Tabuk/modules/users/index.html#settings" title="User settings"></a>
      <span class="text-white/60">|</span>
    </div>

  </div>
</header>
